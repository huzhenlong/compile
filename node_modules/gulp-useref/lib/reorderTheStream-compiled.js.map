{"version":3,"sources":["reorderTheStream.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,UAAU,QAAQ,UAAR,CAAd;;AAEA,OAAO,OAAP,GAAiB,UAAU,KAAV,EAAiB,GAAjB,EAAsB;AACnC,QAAI,OAAO,IAAX;QACI,YAAY,EADhB;QAEI,IAAI,CAFR;QAGI,cAAc,EAHlB;QAII,gBAAgB,EAJpB;;;AAOA,UAAM,OAAN,CAAc,UAAU,QAAV,EAAoB;AAC9B,kBAAU,QAAV,IAAsB,GAAtB;AACH,KAFD;;AAIA,WAAO,IAAI,IAAJ,CAAS,QAAQ,GAAR,CAAY,UAAU,OAAV,EAAmB,QAAnB,EAA6B,QAA7B,EAAuC;AAC/D,YAAI,QAAQ,UAAU,QAAQ,IAAlB,CAAZ;;AAEA,YAAI,UAAU,SAAd,EAAyB;AACrB,0BAAc,IAAd,CAAmB,OAAnB;AACH,SAFD,MAEO;AACH,wBAAY,KAAZ,IAAqB,OAArB;AACH;AACD;AACH,KATe,EASb,UAAU,QAAV,EAAoB;AACnB,oBAAY,OAAZ,CAAoB,UAAU,MAAV,EAAkB;AAClC,gBAAI,WAAW,SAAf,EAA0B;AACtB,qBAAK,IAAL,CAAU,MAAV;AACH;AACJ,SAJD,EAIG,IAJH;;AAMA,sBAAc,OAAd,CAAsB,UAAU,QAAV,EAAoB;AACtC,iBAAK,IAAL,CAAU,QAAV;AACH,SAFD,EAEG,IAFH;AAGA;AACH,KApBe,CAAT,CAAP;AAqBH,CAjCD","file":"reorderTheStream-compiled.js","sourcesContent":["'use strict';\n\nvar through = require('through2');\n\nmodule.exports = function (globs, src) {\n    var self = this,\n        sortIndex = {},\n        i = 0,\n        sortedFiles = [],\n        unsortedFiles = [];\n\n    // Create a sort index so we don't iterate over the globs for every file\n    globs.forEach(function (filename) {\n        sortIndex[filename] = i++;\n    });\n\n    return src.pipe(through.obj(function (srcFile, encoding, callback) {\n        var index = sortIndex[srcFile.path];\n\n        if (index === undefined) {\n            unsortedFiles.push(srcFile);\n        } else {\n            sortedFiles[index] = srcFile;\n        }\n        callback();\n    }, function (callback) {\n        sortedFiles.forEach(function (sorted) {\n            if (sorted !== undefined) {\n                this.push(sorted);\n            }\n        }, self);\n\n        unsortedFiles.forEach(function (unsorted) {\n            this.push(unsorted);\n        }, self);\n        callback();\n    }));\n};\n"]}