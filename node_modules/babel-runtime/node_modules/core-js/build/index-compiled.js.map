{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"index-compiled.js","sourcesContent":["// Generated by LiveScript 1.4.0\n(function(){\n  var Promise, ref$, list, experimental, libraryBlacklist, es5SpecialCase, banner, readFile, writeFile, unlink, join, webpack, temp;\n  Promise = require('../library/fn/promise');\n  ref$ = require('./config'), list = ref$.list, experimental = ref$.experimental, libraryBlacklist = ref$.libraryBlacklist, es5SpecialCase = ref$.es5SpecialCase, banner = ref$.banner;\n  ref$ = require('fs'), readFile = ref$.readFile, writeFile = ref$.writeFile, unlink = ref$.unlink;\n  join = require('path').join;\n  webpack = require('webpack');\n  temp = require('temp');\n  module.exports = function(arg$){\n    var modules, ref$, blacklist, library, umd, this$ = this;\n    modules = (ref$ = arg$.modules) != null\n      ? ref$\n      : [], blacklist = (ref$ = arg$.blacklist) != null\n      ? ref$\n      : [], library = (ref$ = arg$.library) != null ? ref$ : false, umd = (ref$ = arg$.umd) != null ? ref$ : true;\n    return new Promise(function(resolve, reject){\n      (function(){\n        var i$, x$, ref$, len$, y$, ns, name, j$, len1$, TARGET, this$ = this;\n        if (this.exp) {\n          for (i$ = 0, len$ = (ref$ = experimental).length; i$ < len$; ++i$) {\n            x$ = ref$[i$];\n            this[x$] = true;\n          }\n        }\n        if (this.es5) {\n          for (i$ = 0, len$ = (ref$ = es5SpecialCase).length; i$ < len$; ++i$) {\n            y$ = ref$[i$];\n            this[y$] = true;\n          }\n        }\n        for (ns in this) {\n          if (this[ns]) {\n            for (i$ = 0, len$ = (ref$ = list).length; i$ < len$; ++i$) {\n              name = ref$[i$];\n              if (name.indexOf(ns + \".\") === 0 && !in$(name, experimental)) {\n                this[name] = true;\n              }\n            }\n          }\n        }\n        if (library) {\n          blacklist = blacklist.concat(libraryBlacklist);\n        }\n        for (i$ = 0, len$ = blacklist.length; i$ < len$; ++i$) {\n          ns = blacklist[i$];\n          for (j$ = 0, len1$ = (ref$ = list).length; j$ < len1$; ++j$) {\n            name = ref$[j$];\n            if (name === ns || name.indexOf(ns + \".\") === 0) {\n              this[name] = false;\n            }\n          }\n        }\n        TARGET = temp.path({\n          suffix: '.js'\n        });\n        webpack({\n          entry: list.filter(function(it){\n            return this$[it];\n          }).map(function(it){\n            if (library) {\n              return join(__dirname, '..', 'library', 'modules', it);\n            } else {\n              return join(__dirname, '..', 'modules', it);\n            }\n          }),\n          output: {\n            path: '',\n            filename: TARGET\n          }\n        }, function(err, info){\n          if (err) {\n            return reject(err);\n          }\n          readFile(TARGET, function(err, script){\n            if (err) {\n              return reject(err);\n            }\n            unlink(TARGET, function(err){\n              var exportScript;\n              if (err) {\n                return reject(err);\n              }\n              if (umd) {\n                exportScript = \"// CommonJS export\\nif(typeof module != 'undefined' && module.exports)module.exports = __e;\\n// RequireJS export\\nelse if(typeof define == 'function' && define.amd)define(function(){return __e});\\n// Export to global object\\nelse __g.core = __e;\";\n              } else {\n                exportScript = \"\";\n              }\n              resolve(\"\" + banner + \"\\n!function(__e, __g, undefined){\\n'use strict';\\n\" + script + \"\\n\" + exportScript + \"\\n}(1, 1);\");\n            });\n          });\n        });\n      }.call(modules.reduce(function(memo, it){\n        memo[it] = true;\n        return memo;\n      }, {})));\n    });\n  };\n  function in$(x, xs){\n    var i = -1, l = xs.length >>> 0;\n    while (++i < l) if (x === xs[i]) return true;\n    return false;\n  }\n}).call(this);\n"]}