{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,IAAI,WAAW,QAAQ,UAAR,CAAf;AACA,IAAI,aAAa,QAAQ,iBAAR,CAAjB;AACA,IAAI,YAAY,QAAQ,WAAR,CAAhB;AACA,IAAI,OAAO,QAAQ,SAAR,CAAX;AACA,IAAI,eAAe,QAAQ,iBAAR,CAAnB;AACA,IAAI,gBAAgB,QAAQ,iBAAR,CAApB;;AAEA,SAAS,IAAT,CAAc,SAAd,EAAyB,GAAzB,EAA8B;AAC5B,MAAI,CAAC,GAAL,EAAU;AACR,UAAM,EAAN;AACD;;AAED,WAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,EAA7B,EAAiC;AAC/B,iBAAa,SAAb,EAAwB,IAAxB,EAA8B,GAA9B,EAAmC,UAAS,GAAT,EAAc,SAAd,EAAyB;AAC1D,UAAI,GAAJ,EAAS;AACP,eAAO,GAAG,GAAH,CAAP;AACD;AACD,oBAAc,SAAd,EAAyB,IAAzB,EAA+B,EAA/B;AACD,KALD;AAMD;;AAED,MAAI,aAAa,SAAS,GAAT,CAAa,GAAb,EAAkB,QAAlB,CAAjB;AACA,MAAI,CAAC,IAAI,UAAT,EAAqB;;;AAGnB,YAAQ,QAAR,CAAiB,KAAK,UAAL,CAAjB;;AAEA,WAAO,UAAP;AACD;;AAED,MAAI,eAAe,IAAI,UAAvB;AACA,MAAI,OAAO,YAAP,KAAwB,SAA5B,EAAuC;AACrC,mBAAe,EAAf;AACD;AACD,MAAI,OAAO,YAAP,KAAwB,QAA5B,EAAsC;AACpC,mBAAe;AACb,YAAM;AADO,KAAf;AAGD;;AAED,MAAI,YAAY,WAAW,KAAX,CAAiB,aAAa,IAA9B,EAAoC,YAApC,CAAhB;AACA,MAAI,eAAe,UAAU,GAAV,CAAc,SAAd,EAAyB,UAAzB,CAAnB;AACA,YAAU,IAAV,CAAe,UAAf;;;;AAIA,UAAQ,QAAR,CAAiB,KAAK,YAAL,CAAjB;;AAEA,SAAO,YAAP;AACD;;AAED,OAAO,OAAP,GAAiB,IAAjB","file":"index-compiled.js","sourcesContent":["'use strict';\n\nvar through2 = require('through2');\nvar sourcemaps = require('gulp-sourcemaps');\nvar duplexify = require('duplexify');\nvar sink = require('../sink');\nvar prepareWrite = require('../prepareWrite');\nvar writeContents = require('./writeContents');\n\nfunction dest(outFolder, opt) {\n  if (!opt) {\n    opt = {};\n  }\n\n  function saveFile(file, enc, cb) {\n    prepareWrite(outFolder, file, opt, function(err, writePath) {\n      if (err) {\n        return cb(err);\n      }\n      writeContents(writePath, file, cb);\n    });\n  }\n\n  var saveStream = through2.obj(opt, saveFile);\n  if (!opt.sourcemaps) {\n    // Sink the save stream to start flowing\n    // Do this on nextTick, it will flow at slowest speed of piped streams\n    process.nextTick(sink(saveStream));\n\n    return saveStream;\n  }\n\n  var sourcemapOpt = opt.sourcemaps;\n  if (typeof sourcemapOpt === 'boolean') {\n    sourcemapOpt = {};\n  }\n  if (typeof sourcemapOpt === 'string') {\n    sourcemapOpt = {\n      path: sourcemapOpt,\n    };\n  }\n\n  var mapStream = sourcemaps.write(sourcemapOpt.path, sourcemapOpt);\n  var outputStream = duplexify.obj(mapStream, saveStream);\n  mapStream.pipe(saveStream);\n\n  // Sink the output stream to start flowing\n  // Do this on nextTick, it will flow at slowest speed of piped streams\n  process.nextTick(sink(outputStream));\n\n  return outputStream;\n}\n\nmodule.exports = dest;\n"]}